package me.stormcph.lumina.module.impl.combat;

import me.stormcph.lumina.event.EventTarget;
import me.stormcph.lumina.event.impl.EventUpdate;
import me.stormcph.lumina.module.Category;
import me.stormcph.lumina.module.Module;
import me.stormcph.lumina.setting.impl.ModeSetting;
import me.stormcph.lumina.setting.impl.NumberSetting;
import me.stormcph.lumina.utils.TimerUtil;
import net.minecraft.client.MinecraftClient;
import net.minecraft.entity.player.PlayerEntity;
import net.minecraft.item.ItemStack;
import net.minecraft.util.Hand;

public class PvpHubExploit extends Module {

    private final TimerUtil timerUtil = new TimerUtil();
    private NumberSetting timerSetting;

    private final NumberSetting cooldown = new NumberSetting("cooldown-ms", 0.0, 1000.0, 900.0, 0.01);
    ModeSetting kits = new ModeSetting("< command", "/kit 1 >", "/kit 1 >", "/kit 2 >", "/kit 3 >", "/kit 4 >", "/kit 5 >", "/kit 6 >", "/kit 7 >", "/kit 8 >", "/kit 9 >", "/kit 10 >");

    public PvpHubExploit() {
        super("PvpHub Exploit", "Auto Totem Exploit on pvphub (play.pvphub.me)", Category.COMBAT);
        addSettings(kits, cooldown);
    }

    @Override
    public void onEnable() {
        super.onEnable();
    }

    @EventTarget
    public void onUpdate(EventUpdate event) {
        if(nullCheck()) return;
        PlayerEntity player = MinecraftClient.getInstance().player;
        if (player != null) {
            checkOffhandSlot(player);
        }
    }

    private void checkOffhandSlot(PlayerEntity player) {
        ItemStack offhandItemStack = player.getStackInHand(Hand.OFF_HAND);


        //ay man don't blame me I didn't know any other better way to do this, so it's a bit inconvenient.
       /* switch (kits.getMode()) {
            case "/kit 1 >":
                if (offhandItemStack.isEmpty()) {
                    if (timerUtil.hasReached((int) cooldown.getValue())) {
                        this.mc.player.networkHandler.sendChatMessage("/kit 1");
                        timerUtil.reset();
                    } else {
                    }
                }
                break;

            case "/kit 2 >":
                if (offhandItemStack.isEmpty()) {
                    if (timerUtil.hasReached((int) cooldown.getValue())) {
                        this.mc.player.networkHandler.sendChatMessage("/kit 2");
                        timerUtil.reset();
                    } else {
                    }
                }
                break;

            case "/kit 3 >":
                if (offhandItemStack.isEmpty()) {
                    if (timerUtil.hasReached((int) cooldown.getValue())) {
                        this.mc.player.networkHandler.sendChatMessage("/kit 3");
                        timerUtil.reset();
                    } else {
                    }
                }
                break;

            case "/kit 4 >":
                if (offhandItemStack.isEmpty()) {
                    if (timerUtil.hasReached((int) cooldown.getValue())) {
                        this.mc.player.networkHandler.sendChatMessage("/kit 4");
                        timerUtil.reset();
                    } else {
                    }
                }
                break;

            case "/kit 5 >":
                if (offhandItemStack.isEmpty()) {
                    if (timerUtil.hasReached((int) cooldown.getValue())) {
                        this.mc.player.networkHandler.sendChatMessage("/kit 5");
                        timerUtil.reset();
                    } else {
                    }
                }
                break;

            case "/kit 6 >":
                if (offhandItemStack.isEmpty()) {
                    if (timerUtil.hasReached((int) cooldown.getValue())) {
                        this.mc.player.networkHandler.sendChatMessage("/kit 6");
                        timerUtil.reset();
                    } else {
                    }
                }
                break;

            case "/kit 7 >":
                if (offhandItemStack.isEmpty()) {
                    if (timerUtil.hasReached((int) cooldown.getValue())) {
                        this.mc.player.networkHandler.sendChatMessage("/kit 7");
                        timerUtil.reset();
                    } else {
                    }
                }
                break;

            case "/kit 8 >":
                if (offhandItemStack.isEmpty()) {
                    if (timerUtil.hasReached((int) cooldown.getValue())) {
                        this.mc.player.networkHandler.sendChatMessage("/kit 8");
                        timerUtil.reset();
                    } else {
                    }
                }
                break;

            case "/kit 9 >":
                if (offhandItemStack.isEmpty()) {
                    if (timerUtil.hasReached((int) cooldown.getValue())) {
                        this.mc.player.networkHandler.sendChatMessage("/kit 9");
                        timerUtil.reset();
                    } else {
                    }
                }
                break;

            case "/kit 10 >":
                if (offhandItemStack.isEmpty()) {
                    if (timerUtil.hasReached((int) cooldown.getValue())) {
                        this.mc.player.networkHandler.sendChatMessage("/kit 10");
                        timerUtil.reset();
                    } else {
                    }
                }
                break;
        }*/

        // No problem, I just wanted to make it a bit more readable
        if (offhandItemStack.isEmpty()) {
            if (timerUtil.hasReached((int) cooldown.getValue())) {
                mc.player.networkHandler.sendChatMessage(kits.getMode().replace(" >", ""));
                timerUtil.reset();
            }
        }
    }
}

/*         if (offhandItemStack.isEmpty()) {
            if (timerUtil.hasReached((int) cooldown.getValue())) {
                this.mc.player.networkHandler.sendChatMessage("/kit 1");
                timerUtil.reset();
            } else {
            }
        } */


